<!DOCTYPE html>
<html>
  <head>
    <title>Lab-DockerAdvanced</title>
    <meta charset="utf-8">
    <style>
      @import url(https://fonts.googleapis.com/css?family=Yanone+Kaffeesatz);
      @import url(https://fonts.googleapis.com/css?family=Droid+Serif:400,700,400italic);
      @import url(https://fonts.googleapis.com/css?family=Ubuntu+Mono:400,700,400italic);
      body { font-family: 'Droid Serif'; }
      h1, h2, h3 {
        font-family: 'Yanone Kaffeesatz';
        font-weight: normal;
      }
      .remark-code, .remark-inline-code { font-family: 'Ubuntu Mono'; }
    </style>
        <link rel="stylesheet" type="text/css" href="../css/default.css">
  </head>
  <body>
    <textarea id="source">
      # Lab Docker Advanced

      Welcome to your Docker Advanced Lab :)

      In this session you'll be less guided so please free to use and abuse Google searching capabilities ;)

      ---
      # Module Goals
      
      This is what we would like you to achieve:
      * Get sample app from git
      * write dockerfile
      * build image
      * install app on a swarm cluster
      * push 2 containers to cluster
      * edit app (just changing the background or adding some external microservice)
      * build
      * redeploy your App again

      ---

      # Example Application

      Here is the application available for you to deploy and edit:

      https://github.com/dotnext/hello-python.git

      The Application is a simple webserver written in Python and using Flask framework

      ---

      # Application Details
      
      This is a python application that builds up a web server with some basic information on its environment
      
      ---
      # Application Screenshots

      Here is how the app should loook like when deployed:
       
      ![inline](../images/hello-python.png)

      ---
      # Spoiler alert
      
      In the next slides you'll get progressively more hints on how to do this. 
      
      Proceed further only if you need help ;) 
      
      ---
      
      # Some Hints
      - Best option is to review the Dockerfile format in the previous module
      - Start up with a base container
      - Figure out what you need to add
      - Remember that networking is important ;)
      - There are **many** ways to do this (and they will have a reflection on how big your docker image will be)
      
      ---
      
      # More hints
      - You'll not need the requirements.txt and manifest.yml files in your container (but you better read them :P )
      - You'll need to copy some folder and files in your container
      - You'll also need to install software from your Container
      - docker logs may help you in troubleshooting
      
      ---
      
      # Even more help ;)
      https://github.com/shekhargulati/python-flask-docker-hello-world 
      
      ---
      
      #Bonus Stage
      
      Build a container that is smaller than the one showed at the previous link
      
      ---
      
      # Bonus Stage 2
      
      - How would you scale your web application? 
      - What elements would you need?
      - Could you achieve this using other containers?
      - How easy it is to do this?
      - Do it :)


    </textarea>
    <script src="https://gnab.github.io/remark/downloads/remark-latest.min.js">
    </script>
    <script>
    remark.macros.scale = function (percentage) {
      var url = this;
      return '<img src="' + url + '" style="width: ' + percentage + '" />';
    };
      var slideshow = remark.create();
    </script>
  </body>
</html>
